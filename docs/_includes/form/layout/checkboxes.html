{% include form/_variables.html %}

{% if include.disabled == 'true' %}
    {% assign containerClass = containerClass | append: ' ds44-inputDisabled' %}
{% endif %}

<div id="{{ id }}" name="{{ name }}" class="ds44-form__checkbox_container {{ containerClass }}" {{ containerAttributes }}>
    {% if include.required == 'true' %}
        <p id="mandatory-message-{{ id }}" class="ds44-mandatory_message">Au moins une de ces cases doit être cochée :</p>
        {% assign ariaDescribedBy = ariaDescribedBy | append: ' mandatory-message-' | append: id %}
    {% endif %}

    {% assign choices = (include.choices | split:',') %}
    {% for choiceData in choices %}
        {% assign choice = (choiceData | split:':') %}
        {% assign value = choice[0] %}
        {% assign label = choice[1] %}

        {% include form/field/box/checkbox.html id=id name=name value=value label=label list=include.list attributes=attributes boxAttributes=boxAttributes ariaDescribedBy=ariaDescribedBy %}
    {% endfor %}
</div>
