// Card common styles

.ds44-card {
    position: relative;
    background-color: $ds44-lightgray;
    transition-duration: $ds44-timing-standard;
    transition-property: box-shadow;
    transition-timing-function: ease;
    margin-bottom: $ds44-medium-vmargin;

    &.ds44-card--contact {
        border-bottom: 0.2rem solid $ds44-contextual-color;
        background: $ds44-lightgray;

        .ds44-card__section {
            padding: $ds44-padding-large;
            position: relative;
        }

        .ds44-innerBoxContainer {
            padding: 0;
        }
    }

    &.ds44-js-card {

        &:focus,
        &:hover,
        &:active {
            cursor: pointer;

            a {
                text-decoration: underline;
            }
        }

    }

    &.ds44-card--fiche {
        background: transparent;

        .ds44-card__section {
            padding: 0;
        }

        &:focus,
        &:hover,
        &:active {
            box-shadow: none;
        }
    }

    &.ds44-cardIsPartner {
        .ds44-cardPartner {
            display: block;
            position: absolute;
            top: 0;
            left: 0;
            padding: 0.625rem;
            background: $ds44-contextual-color;
            font-weight: 600;
            line-height: normal;
        }

        .ds44-cardTitle {
            padding-top: $ds44-padding-xlarge;
        }

    }

    &.ds44-cardIsFocus {
          background-color: $ds44-contextual-color !important;
          border-color :  $ds44-gray;

          hr {
            color: $ds44-gray;
            background-color: $ds44-gray;
          }

          .ds44-cardPartner {
              background: $ds44-light ;
          }
          &:focus,
          &:hover,
          &:active {
            .ds44-cardArrow {
              color: $ds44-dark;
            }
          }
    }

    &:focus,
    &:hover,
    &:active,
    &.active {
        box-shadow: $ds44-boxShadow;

        .ds44-cardArrow {
            opacity: 1;
        }
    }

    .ds44-cardTitle {

        a {
          text-decoration: none;
            &:hover, &:focus, &:active {
                text-decoration: underline;
            }
        }
    }

    &.ds44-card--dobree {
        height: 100%;
        margin-bottom: 0;

        .ds44-card__section {
          padding: 2rem;
              .ds44-innerBoxContainer {
                  padding: 0;
            }
        }

        .ds44-cardTitle {
            font-size: 1.25em;
            font-family: $ds44-font-family-baseModern;
            font-weight: 600;
        }
        .ds44-docListElem {
          font-size: 0.875em;
          .icon-marker {
              left: 0;
            }
        }
        .ds44-cardArrow {
          color: $ds44-dark ;
        }
        .ds44-container-imgRatio--carreAllonge + .ds44-card__section {
            .ds44-cardTitle a {
                font-size: 1.5em;
                @media (max-width: ($ds44-medium - .0625)) {
                    font-size: 1em;
                }
            }
            .ds44-cardArrow {
                bottom: 2rem;
                right: 1rem;
            }
        }
        &.ds44-container-imgZoom {
            overflow: hidden;
            .ds44-container-imgRatio {
                overflow: hidden;
                img {
                transition: all $ds44-timing-standard ease-in-out;
                border: 0;

                &:hover {
                    transform: scale(1.1);
                }
                }
            }
        }
    }


    .ds44-cardGlobalLink {
        text-decoration: none;
    }

    .ds44-imgRatio {
        position: absolute;
        height: 100%;
    }

    .ds44-cardPartner {
        display: none;
    }

    .ds44-cardSelect {
        position: absolute;
        top: 0;
        right: 0;
    }

    .ds44-cardArrow {
        position: absolute;
        right: 0;
        bottom: 0;
        opacity: 0;
        padding: $ds44-padding-medium;
        color: $ds44-contextual-color;
        transition-duration: $ds44-timing-standard;
        transition-property: opacity;
        transition-timing-function: ease;
    }

    .ds44-cardTitle {
        .ds44-icoInfoRoutes {
          margin-right: 15px;
          padding: 5px;
          border-radius: 50%;
          font-size: 1.2em;
          vertical-align: baseline;
          display: inline-block;
          width: 50px;
          height: 50px;
          text-align: center;

          &.orangeFlag {
            background: $ds44-app-orangeFlag;
            color: $ds44-dark;
          }
          &.redFlag {
            background: $ds44-app-redFlag;
            color: $ds44-light;
          }
        }
    }
    &.ds44-card--noLink {
      border: 0;

      &:hover,
      &:focus,
      &:active {
        box-shadow: none;
      }
    }
    &.ds44-card--border {
      background-color: $ds44-light;
      border: 2px dashed $ds44-lightgray;
      height: 100%;
      min-height: 306px;
      display: flex;
      display: flex;
      justify-content: center;
      align-items: center;
    }
}



a.ds44-card {
  display: block;
  text-decoration: none;
}

.ds44-card--verticalPicture {
    background-color: $ds44-lightgray;
    height: 100%;

    &--elu {
      text-align: center;
      padding-top : $ds44-padding-large;

      .ds44-container-imgRatio--profil,
      .ds44-container-imgRatio--profilXL {
        margin: 0 auto;
      }
    }
}

.ds44-card__section {
    padding: $ds44-padding-medium $ds44-padding-box;
    height: 100%;
    position: relative;
}

.ds44-container-imgRatio + .ds44-card__section ,
figure[role=figure]  + .ds44-card__section {
    height: auto;
    position: initial;
}

.ds44-card__globalLink {
    text-decoration: none;
    color: #000000;

    &:focus,
    &:hover,
    &:active {
        text-decoration: none;
    }
}

.ds44-card__title,
.ds44-facette__title {
    margin-bottom: $headings-margin-bottom;
    padding: 0;
    font-size: 1.9rem; // 19px
    font-weight: $weight-semibold;
    line-height: 1.2;
    background: transparent;
    font-family: $ds44-font-family-base;

    @media (max-width: $ds44-small - .0625) {
        font-size: 1.0625em // 17px
    }
}

body.modern {
    .ds44-card__title,
    .ds44-facette__title {
        &.h2-like + * {
            margin-top: 0 !important;
        }
    }
}

.ds44-cardPicture {
    object-fit: cover;
    min-width: 120px;

    @media (max-width: $ds44-small - .0625) {
        min-width: 105px;
    }
}

.ds44-cardFile {
    @include ds44-font-sizes(smallText);
    color: $ds44-gray;
}

.ds44-theme .ds44-cardFile {
    color: $ds44-darkgray;
}

// Horizontal card specific styles

.ds44-card__section--horizontal {
    padding: $ds44-padding-large $ds44-padding-xlarge;
    align-items: flex-start;
    display: flex;
    flex-direction: column;

    .ds44-card__title {
        font-size: 1.7rem;
    }

    @media (max-width: $ds44-small - .0625) {
        padding-right: $ds44-padding-box;
        padding-left: $ds44-padding-box;
    }
}

.ds44-card__section--horizontal--img {
    min-width: 38%;
    @media (min-width: $ds44-small) and (max-width: ($ds44-large - .0625)) {
        min-width: 20%;
    }

    &--dim110 {
        min-width: 31%;
        @media (min-width: $ds44-extra-large) {
            min-width: 110px;
        }
    }

    &--dim80 {
        max-width: 25%;
        width: 100%;
        @media (min-width: $ds44-extra-large) {
            min-width: 80px;
        }
    }
}
.ds44-homepage-container .ds44-card__section--horizontal--img {
    &--dim110 {
        min-width: 31%;
        @media (min-width: $ds44-extra-large) {
            min-width: 90px;
        }
        @media (min-width: $ds44-large) and (max-width: ($ds44-extra-large - .0625)) {
            min-width: 80px;
        }
    }
}



// Horizontal card specific Musée Dobrée Focus object

.ds44-card__no-padding-left .ds44-card--focus .ds44-card__section--horizontal {
    padding-left: 0;
}

.ds44-card--focus {
    .ds44-card__section--horizontal--img {
        width: 50%;
        min-width: 50%;
        height: 430px;

        @media (min-width: $ds44-medium) and (max-width: ($ds44-large - .0625)) {
            width: 50%;
            min-width: 50%;
        }
        @media (max-width: ($ds44-medium - .0625)) {
            min-width: 100%;
        }
        .dobree-imgFocus {
              width: 100%;
              height: 430px;
              object-fit: cover;
              overflow: hidden;
        }
    }
    .ds44-card__section--horizontal {
        width: 100%;
        padding: 2rem 7rem 2rem 9rem;
        .date {
            font-size: 1.125em;
            order: -1;
        }
        .ds44-card__title {
            font-size: 1.875em;
            font-weight: 600;
            margin-bottom: 1em;
            padding-bottom: 1em;
            position: relative;
            width:100%;

            &:after {
                content: '';
                display: block;
                width: 135%;
                height: 1px;
                background-color: $ds44-contextual-color;
                position: absolute;
                bottom: 0;
                right: 0;
            }
        }
    }
    .ds44-frw .ds44-card__section--horizontal {
        .ds44-card__title {
            &:after {
                left: 0;
            }
        }
    }

    &.dobree-text-image {
        .ds44-card__section--horizontal--img {
            width: 50%;
            min-width: 50%;
            height: auto;
            position: relative;

            &:hover, :active, :focus {
                cursor: pointer;
            }
            .ds44-btnIco {
                position: absolute;
                top: 10px;
                right:10px;
                height: 30px;
                  width: 30px;
                  border-radius: 30px;
                  background-color: rgba(0,0,0,0.5);
                  text-align: center;

                  .icon::before {
                      line-height: .9;
                    }
            }

            .ds44-container-imgRatio {
              height: 100%;
              button {
                  padding: 0;
              }
            }
            @media (max-width: ($ds44-medium - .0625)) {
                min-width: 100%;
            }
        }
        .ds44-card__section--horizontal  {
            .ds44-card__title {
                margin-bottom: 0;

                &::after {
                    display: none;
                }
            }
            @media (max-width: ($ds44-medium - .0625)) {
                text-align: left !important;
            }
        }
    }

    &.dobree-card--tarif {
        .ds44-card__section--horizontal {
            padding: 2rem 3rem;
            p[role=heading] {
                font-size: 1.25em;
                margin-bottom: 2rem;
                font-weight: $weight-medium;
            }
            .tarif::before {
                content: '';
                display: inline-block;
                width: 80px;
                height: 1px;
                background: $ds44-color-base;
                margin: 4px 10px;
            }
            .txtTarif {
                width: 90px;
                display: inline-block;
            }
            ul:not(.ds44-list) {
                padding-left: 2rem;
            }
        }
        .ds44-card__section--horizontal--img,
        .ds44-card__section--horizontal--img--dim80 {
            picture {
                height: 100%;
                .dobree-imgFocus {
                  height: 100%;
                  object-fit: cover;
                }
            }
        }
        .ds44-card__section--horizontal--img {
            height: 240px;
        }
    }
    @media (max-width: ($ds44-medium - .0625)) {
        .ds44-flex-container,
         .ds44-frw {
            flex-direction: column;

            .ds44-card__section--horizontal {
                padding: 4rem;
                text-align: center;
                align-items: center;
                .date {
                    font-size: 0.875em;
                }
                .ds44-card__title {
                    font-size: 1.25em;
                    margin-bottom: 2rem;
                    padding-bottom: 0;

                    &:after {
                        display: none;
                    }
                }
            }
        }
    }
}


.ds44-homepage-container .ds44-card {
    z-index: 10;
}

.dobree-fontSize-20 {
    font-size: 1.25em;
    @media (max-width: ($ds44-medium - .0625)) {
        font-size: 1em;
    }
}


// Calendar card

.ds44-card__dateContainer {
    padding: $ds44-padding-small;
    background-color: $ds44-contextual-color;
    text-align: center;
    min-height: 14rem;
    min-width: 25%;
    flex-direction: column;

    @media (max-width: $ds44-small - .0625) {
        padding-left: $spacer-small;
        padding-right: $spacer-small;
        min-width: 10rem;
    }

    @media (min-width: $ds44-large - .0625) and (max-width: ($ds44-extra-large - .0625)) {
        min-width: 9rem;
    }

    @media (min-width: $ds44-medium - .0625) and (max-width: ($ds44-large - .0625)) {
        min-width: 6rem;
    }
}

.ds44-cardDateNumber {
    font: bold 2.375em/1 $ds44-font-family-headings;
    display: block;

    .ds44-two-dates & {
        font: bold 2em/1 $ds44-font-family-headings;
    }
}

.ds44-cardDateMonth {
    font: normal 1.5em/1 $ds44-font-family-headings;
    display: block;

    .ds44-two-dates & {
        font: normal 1.2em/1 $ds44-font-family-headings;
    }
}

.ds44-cardMultiDates { // if card displays multiple dates (range)
    .ds44-cardDateNumber {
        font-size: 2.1875em;
    }

    .ds44-cardDateMonth {
        font-size: 1.125em;
    }
}

.ds44-cardDate,
.ds44-cardLocalisation {
    font-size: .875em;

    .icon {
        font-size: 1.2rem;
        line-height: 1;
    }

    &.ds44-docListElem {
        padding-left: 2rem;
        margin-bottom: .5rem;
    }
}

.ds44-card--horizontal {
    .ds44-card__img {
        @media (max-width: $ds44-small - .0625) {
            min-height: 100%;
        }
    }
}

.ds44-card--horizontal {
    &--inforoutes {

      &:hover,
      &:focus,
      &:active,
      &.active {
        box-shadow: none;
      }
      .ds44-card__section--horizontal {
        padding: 1rem;
        display: block;
        width: 100%;
        text-align: center;

        p {
          margin: 0;
          line-height: 1.2em;
        }
      }
      &--bacs {
        .h3-like {
          font-size: 41px;
        }
        .ds44-bacs-info {
          background-color: $ds44-light;
          background-image: url(../../../assets/images/apps/ponts/img/file-attente.svg);
          background-position: bottom;
          background-repeat: no-repeat;
          border: 1px solid $ds44-lightgray;
          padding: 10px 0 40px 0;

          &.no-img {
            background-image: none;
            padding: 10px 0;
          }

          > * {
            padding: 0 10px;
          }

           li {
            display: inline-block;
            padding: 10px 20px 10px 0;
            background: url(../../../assets/images/right.png) no-repeat right 5px center;
            font-size: 14px;

            &:last-child {
              padding-right: 0;
              background: none;
            }
          }
        }
      }
    }
}

.asideCards {
    .large-w50 {
      width: 100% !important;
    }
}

/*
    MEDIA QUERIES
    */

@media (max-width: $ds44-tiny - .0625) {

    .ds44-tiny-reducedFont .ds44-card__globalLink {
        font-size: smaller;
    }

}

/* Media Queries Print / Impression */
@media print {

    .ds44-card__dateContainer {
        min-height: 5rem;
        min-width: 5rem;
    }


}
